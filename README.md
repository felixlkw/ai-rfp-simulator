# RFP기반 AI가상고객 제안평가 시뮬레이터

## 프로젝트 개요
- **이름**: RFP기반 AI가상고객 제안평가 시뮬레이터 (RFP-based AI Virtual Customer Proposal Evaluation Simulator)
- **목표**: 딥리서치와 RFP 분석으로 30속성 AI 가상고객을 생성하고, 6대 지표 루브릭 앵커로 제안/발표를 정량 평가하여 통합 결과 제공
- **특징**: 
  - **30속성 AI 가상고객 시스템**: 딥리서치 15속성 + RFP 분석 15속성
  - **6대 지표 루브릭 앵커**: 명확성·전문성·설득력·논리성·창의성·신뢰성 (1-5점 상세 기준)
  - **통합 평가**: 제안서 70% + 발표 30% 가중 평균
  - **레이더 차트 + 상세 피드백**: 시각화 및 맞춤형 개선 방안

## 현재 구현된 기능 ✅

### ✅ 핵심 시스템 아키텍처
- **30속성 AI 가상고객 시스템**: 딥리서치(15) + RFP분석(15) → 통합 페르소나
- **6대 평가지표 루브릭 앵커**: 각 지표별 1-5점 상세 기준 정의
- **Cloudflare D1 데이터베이스**: 5개 핵심 테이블 구조 완성
- **서비스 지향 아키텍처**: DeepResearch, RfpAnalysis, CustomerGeneration, Evaluation, Database 서비스

### ✅ AI 가상고객 생성 시스템
| 기능 | 상태 | 설명 |
|------|------|------|
| 딥리서치 수집 (15속성) | ✅ | 비전·미션, 핵심사업, 시장포지셔닝, 재무전략, R&D, ESG 등 |
| RFP 분석 (15속성) | ✅ | 발주사명, 부서, 배경, 목표, 범위, 기간, 예산, 평가기준 등 |
| 30속성 통합 페르소나 생성 | ✅ | 딥리서치+RFP → Top3 우선순위, 의사결정 스타일, 페르소나 요약 |

### ✅ 백엔드 API 엔드포인트
| 경로 | 메소드 | 기능 | 상태 |
|------|--------|------|------|
| `/api/health` | GET | 헬스체크 | ✅ |
| `/api/customers` | GET | AI 가상고객 목록 | ✅ |
| `/api/customers/deep-research` | POST | 딥리서치 수집 API | ✅ |
| `/api/customers/rfp-analysis` | POST | RFP 분석 API | ✅ |
| `/api/customers/generate` | POST | 30속성 가상고객 생성 | ✅ |
| `/api/evaluations/proposal` | POST | 제안서 평가 (6지표) | ✅ |
| `/api/evaluations/presentation` | POST | 발표 평가 (STT+음성분석) | ✅ |
| `/api/evaluations/integrate` | POST | 통합 결과 생성 | ✅ |
| `/api/sessions` | GET/POST | 평가 세션 관리 | ✅ |
| `/api/upload/file` | POST | 파일 업로드 (멀티파트) | ✅ |
| `/api/parse/rfp` | POST | RFP 문서 파싱 | ✅ |
| `/api/parse/proposal` | POST | 제안서 문서 파싱 | ✅ |
| `/api/report/generate` | POST | PDF 보고서 생성 | ✅ |
| `/api/report/demo` | GET | 데모 보고서 다운로드 | ✅ |
| `/api/demo/presentation-evaluation` | POST | 데모 발표 평가 | ✅ |

### ✅ 프론트엔드 UI/UX
- **메인 대시보드**: 4단계 프로세스 시각화, 기능별 카드 배치
- **AI 가상고객 생성 페이지**: 딥리서치 → RFP 업로드 → 페르소나 생성 워크플로우
- **제안서 평가 페이지**: 드래그앤드롭 파일 업로드, 실시간 분석 진행률 표시
- **발표 평가 페이지**: WebRTC 녹화 인터페이스, 실시간 STT 전사, 음성 레벨 시각화
- **통합 결과 페이지**: 고도화된 Chart.js 레이더 차트, 지표별 상세 비교표, 진행률 바
- **반응형 디자인**: TailwindCSS + FontAwesome 기반 모던 UI
- **진행 상태 추적**: 단계별 완료 상태 및 진행률 표시

### ✅ 6대 평가지표 루브릭 앵커 (100점 만점)
각 지표별로 루브릭 1-5점을 100점 만점으로 변환:

**점수 변환 체계:**
- 1점 → 10점 (매우 부족)
- 2점 → 20점 (부족)  
- 3점 → 30점 (보통)
- 4점 → 40점 (우수)
- 5점 → 50점 (매우 우수)

**6대 평가지표:**
- **명확성 (Clarity)** - 목적·범위·효과의 명확성과 구조적 완결성
- **전문성 (Expertise)** - 실무 지식의 깊이와 도메인 전문성  
- **설득력 (Persuasiveness)** - 고객 관점 이해와 설득 논리
- **논리성 (Logic)** - 추론의 타당성과 근거의 체계성
- **창의성 (Creativity)** - 차별화된 접근법과 혁신성
- **신뢰성 (Credibility)** - 실현 가능성과 객관적 근거

**최종 점수:** 6개 지표 평균 (최대 50점) × 2 = 100점 만점

### ✅ 제안서 평가 시스템 (NEW!)
- **파일 업로드**: 실시간 드래그앤드롭 + 멀티파트 업로드 지원 (PDF, DOCX, TXT)
- **문서 파싱**: 자동 텍스트 추출, 메타데이터 생성, 섹션별 콘텐츠 분석
- **6지표 평가**: 루브릭 앵커 기반 명확성·전문성·설득력·논리성·창의성·신뢰성 점수화
- **레이더 차트**: Chart.js 기반 6각형 시각화 및 개별 지표 점수 표시
- **실시간 결과**: 업로드 즉시 분석 완료 및 상세 피드백 제공

### ✅ 발표 평가 시스템 (NEW!)  
- **WebRTC 녹화**: 브라우저 네이티브 미디어 스트림 캡처 (비디오+오디오)
- **실시간 STT**: Web Speech API 연동 실시간 음성인식 및 텍스트 전사
- **음성 분석**: Web Audio API 기반 주파수 도메인 분석
  - 실시간 음성 레벨 시각화 (오디오 바)
  - WPM(분당 단어수) 계산
  - 휴지/간격 검출 및 빈도 측정  
  - 필러 워드(음, 아, 그) 탐지 및 카운팅
- **발표 메트릭스**: 총 발표시간, 단어수, 휴지횟수, 평균 음성레벨 추적
- **6지표 평가**: 음성+텍스트 통합 분석으로 발표력 정량 평가
- **🎯 데모 모드**: 샘플 STT 텍스트를 활용한 즉시 평가 체험 기능

### ✅ 통합 결과 및 보고서 (NEW!)
- **가중 평균**: 제안서(70%) + 발표(30%) 통합 점수 계산
- **비교 차트**: 제안서 vs 발표 레이더 차트 오버레이 시각화
- **상세 피드백**: 
  - **강점 분석**: 높은 점수 지표별 구체적 강점 요인
  - **개선 방안**: 낮은 점수 지표별 맞춤형 개선 가이드
  - **종합 총평**: 전체적 평가 요약 및 추천 방향성
- **PDF 보고서**: HTML 템플릿 기반 전문적 평가서 생성 및 다운로드
  - 고객 정보, 평가 개요, 상세 점수, 피드백, 개선 방안 포함

## 아직 구현되지 않은 기능 🚧

### 🚧 LLM 연동 (고도화)
- [ ] OpenAI/Anthropic API 통합 (실제 AI 평가)
- [ ] 루브릭 앵커 기반 평가 프롬프트 엔지니어링
- [ ] 멀티모달 LLM 영상 분석 (발표 영상 직접 분석)
- [ ] 예상 질문/답변 생성 기능

### 🚧 고급 기능
- [ ] 실시간 WebSocket 피드백 
- [ ] 다국어 STT 지원 (영어, 중국어)
- [ ] 발표 영상 저장 및 재생 기능
- [ ] 평가 히스토리 및 트렌드 분석

## URL 및 배포 정보 🌐

### 🌐 개발 환경
- **샌드박스 URL**: https://3000-i9nxth45bm312i7sylait-6532622b.e2b.dev
- **헬스체크**: https://3000-i9nxth45bm312i7sylait-6532622b.e2b.dev/api/health
- **AI 가상고객 생성**: https://3000-i9nxth45bm312i7sylait-6532622b.e2b.dev/customer-generation

### 🏗️ 배포 상태
- **플랫폼**: Cloudflare Pages (준비 완료)
- **데이터베이스**: Cloudflare D1 (마이그레이션 완료)  
- **상태**: 🟢 **개발 환경 구동 중** (AI 가상고객 생성 시스템 작동)

## 데이터 아키텍처

### 30속성 AI 가상고객 구조
```
딥리서치 15속성:
1. 비전·미션, 2. 핵심 사업영역, 3. 시장 포지셔닝, 4. 재무 전략 성향
5. R&D 지향성, 6. ESG 우선순위, 7. 리스크 관리 태도, 8. 글로벌 vs 로컬
9. 고객/이해관계자 성향, 10. 디지털 전환 수준, 11. 조직문화·HR 방향
12. 파트너십/생태계 전략, 13. 규제·정책 대응, 14. 사회적 이미지/브랜드 톤
15. 단기 vs 장기 목표 균형

RFP 분석 15속성:
1. 발주사명, 2. 발주부서, 3. 프로젝트 배경, 4. 프로젝트 목표, 5. 프로젝트 범위
6. 프로젝트 기간, 7. 프로젝트 예산, 8. 평가기준, 9. 요구 산출물, 10. 입찰사 요건  
11. 준수사항, 12. 리스크 관리 조건, 13. 필수 역량, 14. 진행 일정, 15. 특이조건/기타 요구

→ 30속성 통합 → Top3 우선순위 + 의사결정 스타일 + 페르소나 요약
```

### 핵심 테이블 구조
```
ai_virtual_customers (30속성 기반 가상고객)
    ↓
proposal_evaluations (6지표 제안서 평가)
presentation_evaluations (6지표 + STT 발표 평가)  
    ↓
integrated_evaluations (가중평균 통합 결과)
evaluation_sessions (세션 관리)
```

## 기술 스택

### 백엔드
- **프레임워크**: Hono.js (경량 웹 프레임워크)
- **런타임**: Cloudflare Workers (엣지 환경)
- **데이터베이스**: Cloudflare D1 (SQLite 기반, 로컬 개발)
- **언어**: TypeScript

### 프론트엔드  
- **스타일링**: TailwindCSS
- **아이콘**: FontAwesome
- **차트**: Chart.js (예정)
- **HTTP 클라이언트**: Axios
- **폰트**: Noto Sans KR

### 인프라 및 도구
- **배포**: Cloudflare Pages
- **프로세스 관리**: PM2 
- **빌드 도구**: Vite
- **패키지 매니저**: npm
- **버전 관리**: Git

## 개발 가이드

### 로컬 환경 설정
```bash
# 의존성 설치
npm install

# 프로젝트 빌드 
npm run build

# 개발 서버 시작 (PM2 사용)
pm2 start ecosystem.config.cjs

# 데이터베이스 마이그레이션
npm run db:migrate:local

# 서비스 상태 확인  
curl https://3000-i9nxth45bm312i7sylait-6532622b.e2b.dev/api/health
```

### 추천 다음 개발 단계  
1. **차트 시각화 고도화** - 추가 차트 유형, 인터랙티브 기능, 애니메이션 효과
2. **실제 LLM API 연동** - OpenAI/Anthropic API로 실제 AI 평가 시스템 구축
3. **멀티모달 분석** - 발표 영상 직접 분석 (표정, 제스처, 시선)
4. **실시간 WebSocket** - 평가 진행률 실시간 업데이트
5. **고급 음성 분석** - 감정 분석, 억양 패턴, 말하기 속도 변화

## 사용자 가이드

### 1. AI 가상고객 생성 ✅
1. **딥리서치 수집**: 회사명 입력 → 15속성 자동 수집
2. **RFP 문서 업로드**: PDF/DOCX/TXT → 15속성 자동 추출  
3. **페르소나 생성**: 30속성 통합 → Top3 우선순위 + 의사결정 스타일

### 2. 제안서 평가 ✅
1. **파일 업로드**: 드래그앤드롭으로 제안서 문서 업로드 (PDF/DOCX/TXT)
2. **자동 분석**: 문서 파싱 및 콘텐츠 추출
3. **6지표 평가**: 루브릭 앵커 기반 정량 점수화 (1-5점)
4. **결과 확인**: 레이더 차트 + 상세 피드백

### 3. 발표 평가 ✅  
1. **녹화 시작**: 웹캠/마이크 권한 허용 후 녹화 시작
2. **실시간 분석**: STT 텍스트 전사 + 음성 레벨 시각화
3. **발표 완료**: 녹화 종료 시 자동 메트릭스 계산
4. **평가 결과**: 6지표 점수 + 발표 통계 (WPM, 휴지, 필러워드)
5. **🎯 데모 모드**: "데모 평가 실행" 버튼으로 샘플 발표 즉시 체험

### 4. 통합 결과 ✅
1. **결과 통합**: 제안서(70%) + 발표(30%) 가중 평균 자동 계산
2. **비교 시각화**: 두 평가의 레이더 차트 오버레이 표시
3. **종합 피드백**: 강점, 개선방안, 총평 자동 생성
4. **보고서 다운로드**: 전문적 PDF 평가서 즉시 생성

## 라이선스 및 기여

**© 2025 PwC Korea. All rights reserved.**

이 프로젝트는 PwC Korea의 내부 도구로 개발되었으며, 상업적 사용 시 별도 라이선스가 필요합니다.

---

**마지막 업데이트**: 2025년 9월 7일  
**버전**: v4.0.0 (100점 만점 평가 시스템)  
**개발자**: RFP Simulator Development Team